{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e0bf3fda_6660086b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1572775
      },
      "writtenOn": "2022-05-18T06:51:51Z",
      "side": 1,
      "message": "Please review.",
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac97a148_0fe47a8e",
        "filename": "media/codecs/amrwb/dec/src/highpass_50hz_at_12k8.cpp",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-05-30T15:00:31Z",
      "side": 1,
      "message": "i\u0027m not convinced this is sufficient.\n\nin the bug, we get here with:\nthe value of (L_tmp1 \u003e\u003e 14) is -3234 and the value of L_tmp2 is -2147483648.\n(L_tmp2 is MIN_INT)\n\ngoing to 64 bits, gets a successful addition, but then we apply the \"\u003c\u003c2\"\nat the end. The results of the shift work in 64 bits, but they don\u0027t fit\ninto L_tmp1 when we cast back to 32-bits for the assignment.",
      "range": {
        "startLine": 184,
        "startChar": 18,
        "endLine": 184,
        "endChar": 28
      },
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c5b42cd_408ed3e6",
        "filename": "media/codecs/amrwb/dec/src/highpass_50hz_at_12k8.cpp",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1572775
      },
      "writtenOn": "2022-06-28T10:27:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ac97a148_0fe47a8e",
      "range": {
        "startLine": 184,
        "startChar": 18,
        "endLine": 184,
        "endChar": 28
      },
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3ce29e7_a4633ef3",
        "filename": "media/codecs/amrwb/dec/src/highpass_50hz_at_12k8.cpp",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1108919
      },
      "writtenOn": "2022-06-30T21:16:23Z",
      "side": 1,
      "message": "all of those fxp_mul and fpx_mac calls are saturating calls.\nis the answer that this calculation also needs to be saturating.\n\nis the fix that we calculate as a int64 (which the cast does) but before\nwe put it back into L_tmp1 (which is an int32), we saturate it. so maybe something like:\n\nint64 what \u003d ((int64_t)(L_tmp1 \u003e\u003e 14) + L_tmp2) \u003c\u003c 2;\nif (what \u003e INT_MAX) what \u003d INT_MAX\nelse if (what \u003c INT_MIN) what \u003d INT_MIN\nL_tmp1 \u003d what;",
      "parentUuid": "3c5b42cd_408ed3e6",
      "range": {
        "startLine": 184,
        "startChar": 18,
        "endLine": 184,
        "endChar": 28
      },
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "431a99b1_eb675dae",
        "filename": "media/codecs/amrwb/dec/src/highpass_50hz_at_12k8.cpp",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1572775
      },
      "writtenOn": "2022-07-04T16:15:49Z",
      "side": 1,
      "message": "Ray,\nFollowing is the reference source for AMR WB \nhttps://www.3gpp.org/ftp/Specs/archive/26_series/26.204/26204-h00.zip\nD_UTIL_hp50_12k8() in dec_util.c corresponds to this.\n\nWhat is needed in this function is a series of multiply accumulations with one intermediate result downshifted by 14.\nIn this implementation, two temporary variables were used to compute this and when adding in the last stage, there was\nan integer overflow seen. Instead of clipping the result after adding and storing the result in a 64 bit variable, we \nchanged this to use a single temporary variable to be consistent with reference as that is cleaner and more readable.\n\nIf you prefer to change this to a clip after storing to a 64 bit variable, please let us know and we will update the CL.\nThanks.",
      "parentUuid": "c3ce29e7_a4633ef3",
      "range": {
        "startLine": 184,
        "startChar": 18,
        "endLine": 184,
        "endChar": 28
      },
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea44e3e1_5c490130",
        "filename": "media/codecs/amrwb/dec/src/highpass_50hz_at_12k8.cpp",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1047003
      },
      "writtenOn": "2023-09-26T15:46:38Z",
      "side": 1,
      "message": "Marking this resolved as Patchset 4 had Code-Review +2.",
      "parentUuid": "431a99b1_eb675dae",
      "range": {
        "startLine": 184,
        "startChar": 18,
        "endLine": 184,
        "endChar": 28
      },
      "revId": "3285f85ce33f1b9b0eabf54d56f9d6df57773f66",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
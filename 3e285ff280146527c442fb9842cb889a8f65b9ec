{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6562fef4_88d5a8bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1869057
      },
      "writtenOn": "2022-05-26T02:15:58Z",
      "side": 1,
      "message": "com.tencent.tmgp.sgame exit exception.\nuser feedback, so we think the issue caused by ~AudioTrack when setVolume.\nform feedback data, the change should be ok.\nplease help to review, thanks.\n\npid: 5064, tid: 5101, name: Binder:5064_4  \u003e\u003e\u003e com.tencent.tmgp.sgame \u003c\u003c\u003c\nuid: 10281\nsignal 11 (SIGSEGV), code 0 (SI_USER), fault addr --------\nbacktrace:\n      #00 pc 0000000000097ddc  /system/lib64/libaudioclient.so (android::AudioTrack::setVolume(float, float)+696) (BuildId: 40fda03468a993a0655ef5abda23adc5)\n      #01 pc 00000000000bb1c0  /system/lib64/libaudioclient.so (android::TrackPlayerBase::playerSetVolume()+96) (BuildId: 40fda03468a993a0655ef5abda23adc5)\n      #02 pc 00000000000ba164  /system/lib64/libaudioclient.so (android::PlayerBase::setVolume(float)+148) (BuildId: 40fda03468a993a0655ef5abda23adc5)\n      #03 pc 00000000000461dc  /system/lib64/libaudioclient.so (android::media::BnPlayer::onTransact(unsigned int, android::Parcel const\u0026, android::Parcel*, unsigned int)+668) (BuildId: 40fda03468a993a0655ef5abda23adc5)\n\n03-14 18:23:54.446 10276 20693 21074 D AudioTrack: stop(30891): prior state:STATE_ACTIVE\n03-14 18:23:54.446 10276 20693 20712 D cent.tmgp.sgam: PlayerBase::setVolume() from IPlayer\n03-14 18:23:54.446 10276 20693 21074 D AudioTrack: stop(30891): called with 96 frames delivered\n03-14 18:23:54.447 10276 20693 25266 D cent.tmgp.sgam: PlayerBase::stop() from IPlayer\n03-14 18:23:54.447 10276 20693 25266 D AudioTrack: stop(sessionID\u003d222025)\n03-14 18:23:54.447 10276 20693 21074 D AudioTrack: ~AudioTrack(sessionID\u003d222025)",
      "revId": "3e285ff280146527c442fb9842cb889a8f65b9ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d25c3129_8c0aa7a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1040213
      },
      "writtenOn": "2022-06-01T02:11:49Z",
      "side": 1,
      "message": "Can you please create a bug and upload a bugreport for this issue (if possible).\n\nWould obtaining a copy of the sp\u003cAudioTrack\u003e mAudioTrack under lock prevent the race condition here?  Obtaining a local copy of the sp\u003cAudioTrack\u003e will postpone the AudioTrack destruction.\n\nhttps://cs.android.com/android/platform/superproject/+/master:frameworks/av/media/libaudioclient/include/media/TrackPlayerBase.h;drc\u003d419312541747dc19d37c23f8e65fdf0650f7c83e;l\u003d41\n",
      "revId": "3e285ff280146527c442fb9842cb889a8f65b9ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1aa45d75_19c73659",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1869057
      },
      "writtenOn": "2022-06-22T10:46:15Z",
      "side": 1,
      "message": "TrackPlayerBase::doDestroy will call mAudioTrack.clear(),  mAudioTrack should be release when  mAudioTrack.clear().",
      "parentUuid": "d25c3129_8c0aa7a4",
      "revId": "3e285ff280146527c442fb9842cb889a8f65b9ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "348ffc2b_769c501f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1869057
      },
      "writtenOn": "2022-06-23T10:04:51Z",
      "side": 1,
      "message": "create a bug and upload a bugreport for this issue:\n\nhttps://partnerissuetracker.corp.google.com/u/1/issues/236929510",
      "revId": "3e285ff280146527c442fb9842cb889a8f65b9ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb105b5f_2d489f96",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1869057
      },
      "writtenOn": "2023-04-29T14:22:56Z",
      "side": 1,
      "message": "Hi @Andy \u0026 google experts:\n\nWe update https://partnerissuetracker.corp.google.com/u/1/issues/236929510 for the issue.\n\nLast year, we received a lot of feedback about game crash on Qualcomm platform handset.  We used https://android-review.googlesource.com/c/platform/frameworks/av/+/2051324 to solve the problem,  and no receive the crash feedback again.\n\nRecently, we also received a lot of similar feedback on the mtk platform handset (bugreprot see bug 236929510 affix). We also used this change to solve the problem, so we think this change is effective.\n\nPlease help to review, thank you",
      "parentUuid": "1aa45d75_19c73659",
      "revId": "3e285ff280146527c442fb9842cb889a8f65b9ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}